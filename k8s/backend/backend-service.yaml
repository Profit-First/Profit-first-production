# Backend Service - Internal load balancer for backend pods
# Provides a stable endpoint for frontend to communicate with backend

apiVersion: v1
kind: Service
metadata:
  name: backend  # DNS name: backend.profit-first.svc.cluster.local
  namespace: profit-first
  labels:
    app: backend

spec:
  # ClusterIP: Internal only, not accessible from outside cluster
  type: ClusterIP
  
  # Port configuration
  ports:
  - port: 3000          # Service port (what other pods use to connect)
    targetPort: 3000    # Container port (where backend listens)
    protocol: TCP
    name: http
  
  # Selector: Routes traffic to pods with matching labels
  selector:
    app: backend
